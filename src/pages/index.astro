---
import Layout from "@layouts/Layout.astro";
import PostFormat from "@components/blog/PostFormat.astro";
import { getSortedPosts } from "@utils/content-utils";
import readingTime from "reading-time";

const allBlogPosts = await getSortedPosts();
---

<Layout title="Home">
  <div id="animation-container">
    <div class="onload-animation space-y-4 md:flex-row md:gap-14">
      <h2 class="text-3xl font-bold text-title">Sup! I'm Ray</h2>
      <p>
        ... I love building things. When I'm bored, I tinker with my Linux
        distro and make unnecessary improvements. As a Linux nerd, it's
        practically criminal not to be fond of anime. When I'm not doing any of
        those, I enjoy playing games and reading thriller novels.
      </p>
    </div>
    <div
      class="onload-animation mb-6 mt-10 inline-flex w-full items-end justify-between font-bold text-title"
    >
      <span>Recent Posts</span>
      <a href="/blogs" class="text-sm font-normal underline underline-offset-4"
        >View All</a
      >
    </div>
    <hr class="onload-animation mb-4 border-border" />
    {
      allBlogPosts.map((entry) => (
        <div class="onload-animation">
          <PostFormat
            FrontMatter={entry.data}
            slug={entry.slug}
            minutes={readingTime(entry.body).minutes}
          />
          <hr class="onload-animation my-4 border-border" />
        </div>
      ))
    }
  </div>
</Layout>
